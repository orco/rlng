# Generated by Website Builder
# Begin

# Skip http basic authentication
<Files "sendmail.php">
	Satisfy Any
	Order allow,deny
	Allow from all
</Files>


RewriteEngine on

# Enforce SSL
# Handle non-www URLs
RewriteCond %{HTTPS} !=on
RewriteCond %{HTTP_HOST} ^runninglights\.se [NC]
RewriteRule ^(.*) https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Handle www URLs
RewriteCond %{HTTPS} !=on
RewriteCond %{HTTP_HOST} ^www\.runninglights\.se [NC]
RewriteRule ^(.*) https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# 301 Redirect <directory>/index to <directory>/
RedirectMatch 301 (.*)/index$ $1/

# Prevent mod_dir from appending a slash to directories
DirectorySlash Off

# Handle URLs without .html extension
RewriteCond %{REQUEST_METHOD} ^(GET) [NC]
RewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI}.html -f
RewriteRule ^(.*) $1.html [L]

# Begin webshop rules

# Handle URLs that have a .html extension in them
# https://example.com/shop.html/ws-/items/shirt -> https://example.com/shop.html
# https://example.com/shop/index.html/ws-/items/shirt -> https://example.com/shop/index.html

RewriteRule ^(.*)/*.html/(.*)*$ /$1.html [L]

# Handle URLs that have a different html file name and without .html extension specified
# https://example.com/shop/ws-/items/shirt -> https://example.com/shop.html

RewriteCond %{REQUEST_URI} ^(.*)/ws-(.*)$
RewriteCond %{DOCUMENT_ROOT}/$1.html -f
RewriteRule ^(.*)/ws-(.*)$ /$1.html [L]

# Handle URLs that does not specify index.html
# https://example.com/shop/ws-/items/shirt -> https://example.com/shop/index.html

RewriteRule ^(.*)/ws-.*$ $1/index.html [L]

# Handle URLs for sites published in root directory
# https://example.com/ws-/items/shirt -> https://example.com/index.html

RewriteCond %{REQUEST_URI} ^/ws-.*$
RewriteRule . /index.html [L]

# End webshop rules

# End
# Generated by Website Builder